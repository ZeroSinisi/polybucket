<!doctype html>
<html lang="en">

<head>
    <title>A Shitty Git Client</title>
    <script src="js/restConstants.js"></script>
    <script src="js/endpoint.js"></script>
    <style>
        button {
            margin-top: 20px;
        }
    </style>
</head>

<body>
    <button id="newRepoBtn" onclick="_handleNewRepoClicked()">New Repository</button>
    <ul id="repoList"></ul>
    <script>
        const repoList = document.querySelector("#repoList");

        let repos = {};
        let endpoint = new Endpoint(RestConstants.LOAD_REPO).get();
        endpoint.then(repos => {
            Object.keys(repos).forEach(repo => {
                let listItem = document.createElement("li");
                listItem.innerText = repo;
                repoList.appendChild(listItem);
            })
        });

        function _handleNewRepoClicked() {
            window.location.href = window.location.href + "newRepo";
        }
    </script>
</body>

</html>